  package fr.esisar.calculatrice;

import fr.esisar.calculatrice.operations.binaires.*;
import fr.esisar.calculatrice.operations.unaires.*;
import fr.esisar.calculatrice.operations.ensemblistes.*;

public class Calculateur {
    public static void main(String[] args) {
        Calculatrice calculatrice = new Calculatrice();

        // Ajout des opérations binaires
        calculatrice.ajouterOperation(new Ajouter());
        calculatrice.ajouterOperation(new Soustraire());
        calculatrice.ajouterOperation(new Multiplier());
        calculatrice.ajouterOperation(new Diviser());

        // Ajout des opérations unaires
        calculatrice.ajouterOperation(new Cosinus());
        calculatrice.ajouterOperation(new Sinus());
        calculatrice.ajouterOperation(new Tangente());
        calculatrice.ajouterOperation(new ValeurAbsolue());

        // Ajout des opérations ensemblistes
        calculatrice.ajouterOperation(new Maximum());
        calculatrice.ajouterOperation(new Minimum());

        // Déclaration des valeurs de test
        double a = 5.0;
        double b = 5.0;
        double zero = 0.0;

        // Test des opérations binaires
        try {
            System.out.println("5 + 5 = " + calculatrice.calculer("+", a, b));
            System.out.println("5 - 5 = " + calculatrice.calculer("-", a, b));
            System.out.println("5 * 5 = " + calculatrice.calculer("*", a, b));
            System.out.println("5 / 5 = " + calculatrice.calculer("/", a, b));
            calculatrice.calculer("/", a, zero); // Test division par zéro
        } catch (CalculatriceException e) {
            e.printStackTrace();
        }

        // Test des opérations unaires
        try {
            System.out.println("cos(5) = " + calculatrice.calculer("cos", a));
            System.out.println("sin(5) = " + calculatrice.calculer("sin", a));
            System.out.println("tan(5) = " + calculatrice.calculer("tan", a));
            System.out.println("| -5 | = " + calculatrice.calculer("abs", -a));
        } catch (CalculatriceException e) {
            e.printStackTrace();
        }

        // Test des opérations ensemblistes
        try {
            System.out.println("max(5, 10, -2) = " + calculatrice.calculer("max", 5, 10, -2));
            System.out.println("min(5, 10, -2) = " + calculatrice.calculer("min", 5, 10, -2));
        } catch (CalculatriceException e) {
            e.printStackTrace();
        }
    }
}
